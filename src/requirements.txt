Overview
Design and implement a .NET API that manages credits for users. Credits are not spent directly; they are consumed as a result of tasks being processed.

Think of credits as any of the following:
API quotas
Compute credits
Usage tokens
Internal points system

Core Use Cases
1. Authentication & Authorization
Users must register with email/username and password
Users must login to receive an authentication token (JWT, cookie, or your choice)
/me/* endpoint to return the credit and author basic information about the user
Users can only access their own tasks and credits
2. Credit Management
Users start with 500 credits upon registration
System automatically grants 10 credits to each user every 3 days
Credits should never go negative tasks must be rejected if credits would become negative
Credit grants must work correctly even if the system restarts mid-process
3. Task Creation & Execution
Users can create tasks at any time (creation is free)
Task cost is 100% random: calculated at execution time using random(1, 15)
Task execution time is random: each task takes between 10-40 seconds to complete
The same task must consume credits exactly once, even if the execute API call is retried
Multiple tasks for the same user may execute concurrently
4. Task Processing
Tasks must be processed when the execute endpoint is called
A task can succeed, fail, or be rejected due to insufficient credits
If a task fails mid-execution, the credits are not refunded unless the reason is insufficient funds
The system must handle concurrent execute requests without data corruption
Task execution should simulate actual work (e.g., Thread.Sleep or async delay for the random duration)

Business Rules
Task cost: Random between 1-15 credits (inclusive), calculated at execution time
Task duration: Random between 10-40 seconds, simulated during execution
Auto-grant amount: 100 credits
Auto-grant frequency: Every 3 days per user (from their registration date)
Failed task behavior: Credits consumed before failure are NOT refunded
Credit precision: Whole numbers only (no decimals)
Security: Users can only access their own resource
Technical Constraints
Must use .NET (any version 6+, preferably .NET 8 or 9)
Deliverables
Complete source code with proper project structure
Class diagram showing your domain model and key relationships
Brief README explaining:
How to run the API
Available endpoints and their usage
Any assumptions or design decisions made
Key trade-offs you made and why

For any questions feel free to contact the person who sent you this document